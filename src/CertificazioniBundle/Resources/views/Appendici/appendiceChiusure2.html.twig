{% extends '::base.html.twig' %}
{% block begin_page_level_plugin_style %}
    <style>
        #appendice td:nth-child(3), #appendice td:nth-child(4), #appendice td:nth-child(5), #appendice td:nth-child(6) {
            text-align: right;
        }
    </style>
{% endblock %}
{% block body %}
    {% include 'CertificazioniBundle:Appendici:menuAppendici.html.twig' with {'id_chiusura' : chiusura.id } %}	

    {% set transcod_anno_contabile =
		{
			 '1': '2015',
			 '2': '2016',
			 '3': '2017',
			 '4': '2018',
			 '5': '2019',
			 '6': '2020',
			 '7': '2021',
			 '8': '2022'
		}
    %}

    <h4>APPENDICE 2: ritiri e recuperi effettuati DURANTE il periodo contabile </h4>

    <table class="table table-striped table-hover table-bordered" id="appendice">
        <thead>
            <tr>
                <th colspan="2"></th>
                <th style="text-align: center" colspan="2">Ritiri</th>
                <th style="text-align: center" colspan="2">Recuperi</th>
            </tr>
            <tr>
                <th>Asse prioritario</th>
                <th>Categoria di regioni</th>				
                <th>Importo totale ammissibile di spese figuranti nelle domande di pagamento</th>					
                <th>Spesa pubblica corrispondente</th>					
                <th>Importo totale ammissibile di spese figuranti nelle domande di pagamento</th>					
                <th>Spesa pubblica corrispondente</th>	
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>Più sviluppate</td>
                <td>{{(importi_asse['A1RIT']+importi_asse['A1CMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A1RIT']+importi_asse['A1CMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A1REC']+importi_asse['A1CMPREC'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A1REC']+importi_asse['A1CMPREC'])|number_format(2, ',', '.')}}</td>
            </tr>
            <tr>
                <td>2</td>
                <td>Più sviluppate</td>
                <td>{{(importi_asse['A2RIT']+importi_asse['A2CMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A2RIT']+importi_asse['A2CMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A2REC']+importi_asse['A2CMPREC'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A2REC']+importi_asse['A2CMPREC'])|number_format(2, ',', '.')}}</td>
            </tr>
            <tr>
                <td>3</td>
                <td>Più sviluppate</td>
                <td>{{(importi_asse['A3RIT']+importi_asse['A3CMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A3RIT']+importi_asse['A3CMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A3REC']+importi_asse['A3CMPREC'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A3REC']+importi_asse['A3CMPREC'])|number_format(2, ',', '.')}}</td>
            </tr>
            </tr>
            <tr>
                <td>4</td>
                <td>Più sviluppate</td>
                <td>{{(importi_asse['A4RIT']+importi_asse['A4CMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A4RIT']+importi_asse['A4CMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A4REC']+importi_asse['A4CMPREC'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A4REC']+importi_asse['A4CMPREC'])|number_format(2, ',', '.')}}</td>
            </tr>
            <tr>
                <td>5</td>
                <td>Più sviluppate</td>
                <td>{{(importi_asse['A5RIT']+importi_asse['A5CMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A5RIT']+importi_asse['A5CMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A5REC']+importi_asse['A5CMPREC'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A5REC']+importi_asse['A5CMPREC'])|number_format(2, ',', '.')}}</td>
            </tr>
            <tr>
                <td>6</td>
                <td>Più sviluppate</td>
                <td>{{(importi_asse['A6RIT']+importi_asse['A6CMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A6RIT']+importi_asse['A6CMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A6REC']+importi_asse['A6CMPREC'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A6REC']+importi_asse['A6CMPREC'])|number_format(2, ',', '.')}}</td>
            </tr>
            <tr>
                <td>7</td>
                <td>Più sviluppate</td>
                <td>{{(importi_asse['A7RIT']+importi_asse['A7CMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A7RIT']+importi_asse['A7CMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A7REC']+importi_asse['A7CMPREC'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['A7REC']+importi_asse['A7CMPREC'])|number_format(2, ',', '.')}}</td>
            </tr>
            <tr>
                <td style="font-weight: bold">Totale</td>
                <td style="font-weight: bold">Più sviluppate</td>
                <td>{{(importi_asse['TOTALERIT']+importi_asse['TOTALECMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['TOTALERIT']+importi_asse['TOTALECMPRIT'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['TOTALEREC']+importi_asse['TOTALECMPREC'])|number_format(2, ',', '.')}}</td>
                <td>{{(importi_asse['TOTALEREC']+importi_asse['TOTALECMPREC'])|number_format(2, ',', '.')}}</td>
            </tr>
            <tr>
                <td style="font-weight: bold" colspan="6">Importi ritirati e recuperati durante il periodo contabile suddivisi per periodo contabile di dichiarazione delle spese corrispondenti</td>
            </tr>
            {% for anno,riga in importi_asse['ANNIPRE'] %}
                <tr>
                    <td style="font-weight: bold" colspan="2">per il periodo contabile che si chiude il 30 giugno {{ transcod_anno_contabile[anno] }} (totale)</td>
                    <td style="text-align: right">{{((riga['RIT'] is defined ? riga['RIT']:0) + (riga['RIT_CMP'] is defined ? riga['RIT_CMP']:0))|number_format(2, ',', '.')}}</td>
                    <td style="text-align: right">{{((riga['RIT'] is defined ? riga['RIT']:0) + (riga['RIT_CMP'] is defined ? riga['RIT_CMP']:0))|number_format(2, ',', '.')}}</td>
                    <td style="text-align: right">{{((riga['REC'] is defined ? riga['REC']:0) + (riga['REC_CMP'] is defined ? riga['REC_CMP']:0))|number_format(2, ',', '.')}}</td>
                    <td style="text-align: right">{{((riga['REC'] is defined ? riga['REC']:0) + (riga['REC_CMP'] is defined ? riga['REC_CMP']:0))|number_format(2, ',', '.')}}</td>
                </tr>
                <tr>
                    <td colspan="2">di cui importi rettificati in seguito ad audit relativi alle operazioni 
                        effettuati a norma dell'articolo 127, paragrafo 1, del regolamento (UE) n. 1303/2013
                    </td>
                    <td style="text-align: right">{{((riga['RITADA'] is defined ? riga['RITADA']:0) + (riga['RIT_CMP_ADA'] is defined ? riga['RIT_CMP_ADA']:0))|number_format(2, ',', '.')}}</td>
                    <td style="text-align: right">{{((riga['RITADA'] is defined ? riga['RITADA']:0) + (riga['RIT_CMP_ADA'] is defined ? riga['RIT_CMP_ADA']:0))|number_format(2, ',', '.')}}</td>
                    <td style="text-align: right">{{((riga['RECADA'] is defined ? riga['RECADA']:0) + (riga['REC_CMP_ADA'] is defined ? riga['REC_CMP_ADA']:0))|number_format(2, ',', '.')}}</td>
                    <td style="text-align: right">{{((riga['RECADA'] is defined ? riga['RECADA']:0) + (riga['REC_CMP_ADA'] is defined ? riga['REC_CMP_ADA']:0))|number_format(2, ',', '.')}}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <a href="{{ path("elenco_certificazioni")}}" class="btn btn-default btn-page-action btn-form-back pull-left">Indietro</a>	
{% endblock %}
