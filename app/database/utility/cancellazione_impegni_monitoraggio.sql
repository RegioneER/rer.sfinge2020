SET @idRich = 3839;

##impegni##
select concat(richimp.id,',') from richieste_impegni richimp
join richieste_impegni_ammessi amm on amm.richiesta_impegni_id = richimp.id
where richimp.richiesta_id = @idRich;

update richieste_impegni set data_cancellazione = NOW() where id in(
2818,2819,2820,2821,2822,2823,2824,2825,2826,2827,2828,2829,2830,2831,2832,2833,2834,2835,2836,2837,2838,2839,
2840,2841,2842,2843,2844,2845,2846,2847,2848,2849,2850,2851,2852,2853,2854,2855,2856,2857,2858,2859,2860,2861,
2862,2863,2864,2865,2866,2867,2868,2869,2870,2871,2872,2873,2874,2875,2876,2877,2878,2879,2880,2881,2882,2883,
2884,2885,2886,2887,2888,2889,2890,2891,2892,2893,2894,2895,2896,2897,2898,2899,2900,2901,2902,2903,2904,2905,2906,2907,2908,
2909,2910,2911,2912,2913,2914,2915,2916,2917,2918,2919,2920,2921,2922,2923,2924,2925,2926,2927,2928,2929,2930,2931,2932,2933,2934,2935,
2936,2937,2938,2939,2940,2941,2942,2943,2944,2945,2946,2947,2948,2949,2950,2951,2952,2953,2954,2955,2956,2957,2958,2959,2960,2961,
2962,2963,2964,2965,2966,2967,2968,2969,2970,2971,2972,2973,2974,2975,2976,2977,2978,2979,2980,2981,2982,
2983,2984,2985,2986,4061,4062,4063,4064,4065,4066,4067,5246,5247,5248,5249,5250,5251,5252,5253,5254,5255,
5256,5257,5258,5259,5260,5261,5262,5263,5264,5265,5266,5267,5268,5269,5270,5271,5272,5273,5274,5275,5276);

select concat(amm.id,',') from richieste_impegni richimp
join richieste_impegni_ammessi amm on amm.richiesta_impegni_id = richimp.id
where richimp.richiesta_id = @idRich;

update richieste_impegni_ammessi set data_cancellazione = NOW() where id in(
717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,
737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,
764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,
792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,
820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,
848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,
876,877,878,879,880,881,882,883,884,885,3321,3322,3323,3324,3325,3326,3327,45864587,4588,4589,4590,4591,4592,4593,
4594,4595,4596,4597,4598,4599,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616);
##fine impegni##

##pagamenti##

select concat(richpag.id,',') from richieste_pagamenti richpag
where richpag.richiesta_id = @idRich;

update richieste_pagamenti set data_cancellazione = NOW() where id in(
412,1557,1558,1559,1560,1561,1562,1563,1564,1565,1566,1567,1568,1569,1570,1571,
1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,
1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1611,
1612,1613,1614,1615,1616,1617,1618,1619,1620,1621,1622,1623,1624,1625,1626,1627,1628,1629,1630,1631,
1632,1633,1634,1635,1636,1637,1638,1639,1640,1641,1642,1643,1644,1645,1646,1647,1648,1649,1650,1651,
1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,
1672,1673,1674,1675,1888,1905,1906,1907,1908,1909,2207,2208,2209,2210,2211,2212,2213,2214,2215,2216,
2217,2218,2219,2220,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2759,3195,2349,
2374,2375,2376,2377,3196,3216,3217,3229,3230);

select concat(amm.id,',') from richieste_pagamenti richpag
join pagamenti_ammessi amm on amm.richiesta_pagamento_id = richpag.id
where richpag.richiesta_id = @idRich;

update pagamenti_ammessi set data_cancellazione = NOW() where id in(
395,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,
830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,
859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,
888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,
917,918,919,920,921,2234,2235,2236,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2428);

##fine pagamenti##

##percettori##

SELECT concat(id,',') FROM `pagamenti_percettori` where richiesta_pagamento_id in (select richpag.id from richieste_pagamenti richpag
join pagamenti_ammessi amm on amm.richiesta_pagamento_id = richpag.id
where richpag.richiesta_id = @idRich);

update pagamenti_percettori set data_cancellazione = NOW() where id in(
1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,
16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,
47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,
78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,
107,108,109,110,111,112,113,114,115,116,117,118,119,184,201,202,203,204,205,494,483,491,486,492,
493,484,482,487,495,489,485,488,490,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772);

########################################################################

SET @idRich = 3846;

##impegni##
select concat(richimp.id,',') from richieste_impegni richimp
join richieste_impegni_ammessi amm on amm.richiesta_impegni_id = richimp.id
where richimp.richiesta_id = @idRich;

update richieste_impegni set data_cancellazione = NOW() where id in(
2987,2988,2989,2990,2991,2992,2993,2994,2995,2996,2997,2998,2999,3000,3001,3002,3003,3004,3005,
3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,
3031,3032,3033,3034,3035,3036,3037,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3052,3053,3054,3055,
3056,3057,3058,3059,3060,3061,3062,3063,3064,3065,3066,3067,3068,3069,3070,3071,3072,3073,3074,3075,3076,3077,3078,3079,3080,
3081,3082,3083,3084,3085,3086,3087,3088,3089,3090,3091,3092,3093,3094,3095,3096,3097,3098,3099,3100,3101,3102,3103,3104,3105,
3106,3107,3108,3109,3110,3111,3112,3113,3114,3115,3116,3117,3118,3119,3120,3121,3122,3123,3124,3125,3126,3127,3128,3129,3130,
3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3141,3142,3143,3144,3145,3146,3147,3148,3149,3150,3151,3152,3153,3154,3155,
3156,3157,3158,3159,3160,3161,3162,3163,3164,3165,3166,3167,3168,3169,3170,3171,3172,3173,3174,3175,3176,3177,3178,3179,3180,
3181,3182,3183,3184,3185,3186,3187,3188,3189,4033,4034,4035,4036,4037,4038,4039,4040,4041,4042,4043,4044,4045,4046,4047,4048,
4049,4050,4051,4052,4053,4054,4055,4056,4057,4058,4059,4060,4764,4765,4986,4987,4988,4989,4990,4991,4992,4993,4994,4995,4996,
4997,4998,4999,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5189,5190,5191,5192,5193,5194,5195,
5196,5197,5198,5199,5200,5201,5202,5203,5204,5205,5206,5207,5208,5209,5210,5211,5212,5213,5214,5215,5216,5217,5218,5219,5220,
5221,5222,5223,5224,5225,5226,5227,5228,5229,5230,5231,5232,5233,5234,5235,5236,5237,5238,5239,5240,5241,5242,5243,5244,5245);

select concat(amm.id,',') from richieste_impegni richimp
join richieste_impegni_ammessi amm on amm.richiesta_impegni_id = richimp.id
where richimp.richiesta_id = @idRich;

update richieste_impegni_ammessi set data_cancellazione = NOW() where id in(886,
887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,
918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,
952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,
986,987,988,989,990,991,992,993,994,995,996,997,998,999,1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,
1016,1017,1018,1019,1020,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,
1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,
1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,3293,3294,3295,3296,3297,3298,3299,3300,
3301,3302,3303,3304,3305,3306,3307,3308,3309,3310,3311,3312,3313,3314,3315,3316,3317,3318,3319,3320,4142,4143,4332,4333,4334,4335,4336,
4337,4338,4339,4340,4341,4342,4343,4344,4345,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,
4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4556,4557,4558,
4559,4560,4561,4562,4563,4564,4565,4566,4567,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585);


##pagamenti##
select concat(richpag.id,',') from richieste_pagamenti richpag
where richpag.richiesta_id = @idRich;

update richieste_pagamenti set data_cancellazione = NOW() where id in(
413,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,
1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,
1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1889,1890,1891,1892,1893,1894,1895,1896,1897,
1898,1899,1900,1901,1902,1903,1904,2157,2158,2159,2160,2161,2162,2163,2164,2165,2166,2167,2168,2169,2170,2171,2172,2173,2174,
2175,2176,2177,2178,2179,2180,2181,2182,2183,2184,2185,2186,2187,2188,2189,2190,2191,2192,2193,2194,2195,2196,2197,2198,2199,
2200,2201,2202,2203,2204,2727,2728,2729,2730,2731,2732,2733,2734,2735,2736,2737,2738,2739,2740,2741,2742,2743,2744,2782,3052);

select concat(amm.id,',') from richieste_pagamenti richpag
join pagamenti_ammessi amm on amm.richiesta_pagamento_id = richpag.id
where richpag.richiesta_id = @idRich;

update pagamenti_ammessi set data_cancellazione = NOW() where id in(
396,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,
941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,
971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,987,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,
1090,1091,1092,1093,1094,1095,2174,2175,2176,2177,2178,2179,2180,2181,2182,2183,2184,2185,2186,2187,2188,2189,2190,2191,
2192,2193,2194,2195,2196,2197,2198,2199,2200,2201,2202,2203,2204,2205,2206,2207,2208,2209,2210,2211,2212,2213,2214,2215,
2216,2217,2218,2219,2220,2221,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376);

##percettori##
SELECT concat(id,',') FROM `pagamenti_percettori` where richiesta_pagamento_id in (select richpag.id from richieste_pagamenti richpag
join pagamenti_ammessi amm on amm.richiesta_pagamento_id = richpag.id
where richpag.richiesta_id = @idRich);

update pagamenti_percettori set data_cancellazione = NOW() where id in(
120,121,122,123,124,125,126,127,128,129,130,131,132,133,
134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,
167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,
496,498,497,499,503,500,501,506,512,526,508,542,543,505,509,515,518,524,511,517,523,528,533,534,510,513,514,516,520,522,532,502,504,
507,521,527,529,530,535,519,525,531,536,537,539,541,538,540,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757);